<!DOCTYPE html>
<div class="form-group">
<label for="nomEntreprise">Nom de l'entreprise :</label>
<input type="text" id="nomEntreprise" name="nomEntreprise" required>
</div>


<div class="form-group">
<label for="nomContact">Nom du contact :</label>
<input type="text" id="nomContact" name="nomContact" required>
</div>


<div class="form-group">
<label for="fonction">Fonction :</label>
<input type="text" id="fonction" name="fonction" required>
</div>


<div class="form-group">
<label for="telephone">Téléphone (facultatif) :</label>
<input type="tel" id="telephone" name="telephone">
</div>


<div class="form-group">
<label for="mail">Mail :</label>
<input type="email" id="mail" name="mail" required>
</div>


<div class="form-group">
<label for="motif">Motif de la demande :</label>
<select id="motif" name="motif" required>
<option value="">-- Sélectionnez un motif --</option>
<option value="Formation TMS">Formation (TMS)</option>
<option value="Formation Gestes et Postures">Formation (Gestes et Postures)</option>
<option value="Séance ostéopathie">Séance d'ostéopathie en entreprise</option>
</select>
</div>


<div class="form-group">
<label for="description">Description de la demande (1000 caractères max) :</label>
<textarea id="description" name="description" maxlength="1000" required></textarea>
</div>


<div class="g-recaptcha" data-sitekey="6LdLoAwsAAAAAPj6QvI7gGtkChFEmUcllxZOBK_l"></div>


<button type="submit">Envoyer</button>
</form>


<div id="message"></div>


<script>
document.getElementById('contactForm').addEventListener('submit', function(e) {
e.preventDefault();


const form = e.target;
const messageDiv = document.getElementById('message');
const response = grecaptcha.getResponse();


if (response.length === 0) {
messageDiv.textContent = "Veuillez compléter le reCAPTCHA.";
messageDiv.className = "error";
return;
}


fetch(form.action, {
method: 'POST',
body: new FormData(form)
})
.then(response => response.json())
.then(data => {
if (data.success) {
messageDiv.textContent = "Votre message a été envoyé avec succès !";
messageDiv.className = "success";
form.reset();
grecaptcha.reset();
} else {
messageDiv.textContent = data.message || "Une erreur est survenue.";
messageDiv.className = "error";
}
})
.catch(error => {
messageDiv.textContent = "Une erreur est survenue.";
messageDiv.className = "error";
});
});
</script>
</body>
</html>
